driver:
  name: vagrant
  provider:
    name: libvirt
  provision: no
  cachier: machine
  parallel: true
  default_box: 'metno/ubuntu-22.04'

platforms:
  - name: packages-centos7
    box: metno/centos-7
    box_url: https://vagrant.met.no/eol/centos-7.json
    memory: 2048
    cpus: 2
    instance_raw_config_args:
      - 'vm.synced_folder ".", "/vagrant", disabled: true'
    provider_options:
      qemu_use_session: true
    groups:
      - centos
  - name: packages-centos8-stream
    box: metno/centosstream-8
    box_url: https://vagrant.met.no/eol/centosstream-8.json
    memory: 2048
    cpus: 2
    instance_raw_config_args:
      - 'vm.synced_folder ".", "/vagrant", disabled: true'
    provider_options:
      qemu_use_session: true
    groups:
      - centos

  - name: packages-focal
    box: metno/ubuntu-20.04
    box_url: https://vagrant.met.no/eol/ubuntu-20.04.json
    memory: 2048
    cpus: 2
    instance_raw_config_args:
      - 'vm.synced_folder ".", "/vagrant", disabled: true'
    provider_options:
      qemu_use_session: true
    groups:
      - ubuntu

provisioner:
  name: ansible
  options:
    user: root

verifier:
  name: ansible
